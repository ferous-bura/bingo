<div class="game-area text-center py-4">
  <!-- Bingo Grid Placeholder -->
  <div class="bingo-grid">
    <table class="table table-borderless table-sm">
      <tbody class="number-body">
        <tr>
          <td class="number-box"><span class="bingo-letter">B</span></td>
          <td class="number-box">1</td>
          <td class="number-box">2</td>
          <td class="number-box">3</td>
          <td class="number-box">4</td>
          <td class="number-box">5</td>
          <td class="number-box">6</td>
          <td class="number-box">7</td>
          <td class="number-box">8</td>
          <td class="number-box">9</td>
          <td class="number-box">10</td>
          <td class="number-box">11</td>
          <td class="number-box">12</td>
          <td class="number-box">13</td>
          <td class="number-box">14</td>
          <td class="number-box">15</td>
        </tr>
        <tr>
          <td class="number-box"><span class="bingo-letter">I</span></td>
          <td class="number-box">16</td>
          <td class="number-box">17</td>
          <td class="number-box">18</td>
          <td class="number-box">19</td>
          <td class="number-box">20</td>
          <td class="number-box">21</td>
          <td class="number-box">22</td>
          <td class="number-box">23</td>
          <td class="number-box">24</td>
          <td class="number-box">25</td>
          <td class="number-box">26</td>
          <td class="number-box">27</td>
          <td class="number-box">28</td>
          <td class="number-box">29</td>
          <td class="number-box">30</td>
        </tr>
        <tr>
          <td class="number-box"><span class="bingo-letter">N</span></td>
          <td class="number-box">31</td>
          <td class="number-box">32</td>
          <td class="number-box">33</td>
          <td class="number-box">34</td>
          <td class="number-box">35</td>
          <td class="number-box">36</td>
          <td class="number-box">37</td>
          <td class="number-box">38</td>
          <td class="number-box">39</td>
          <td class="number-box">40</td>
          <td class="number-box">41</td>
          <td class="number-box">42</td>
          <td class="number-box">43</td>
          <td class="number-box">44</td>
          <td class="number-box">45</td>
        </tr>
        <tr>
          <td class="number-box"><span class="bingo-letter">G</span></td>
          <td class="number-box">46</td>
          <td class="number-box">47</td>
          <td class="number-box">48</td>
          <td class="number-box">49</td>
          <td class="number-box">50</td>
          <td class="number-box">51</td>
          <td class="number-box">52</td>
          <td class="number-box">53</td>
          <td class="number-box">54</td>
          <td class="number-box">55</td>
          <td class="number-box">56</td>
          <td class="number-box">57</td>
          <td class="number-box">58</td>
          <td class="number-box">59</td>
          <td class="number-box">60</td>
        </tr>
        <tr>
          <td class="number-box"><span class="bingo-letter">O</span></td>
          <td class="number-box">61</td>
          <td class="number-box">62</td>
          <td class="number-box">63</td>
          <td class="number-box">64</td>
          <td class="number-box">65</td>
          <td class="number-box">66</td>
          <td class="number-box">67</td>
          <td class="number-box">68</td>
          <td class="number-box">69</td>
          <td class="number-box">70</td>
          <td class="number-box">71</td>
          <td class="number-box">72</td>
          <td class="number-box">73</td>
          <td class="number-box">74</td>
          <td class="number-box">75</td>
        </tr>
      </tbody>
    </table>
  </div>

<div class="d-flex align-items-end" style="height: 150px;">
  <div class="btn-group-vertical" id="button-container">
    <button id="shuffleCartella" class="btn btn-primary btn-sm circle-btn" data-toggle="tooltip" title="Shuffle the cartella">
      <i class="fas fa-random"></i>
    </button>
    
    <button id="chimeAudio" class="btn btn-success btn-sm circle-btn" data-toggle="tooltip" title="Toggle Chime">
      <i class="fas fa-toggle-on"></i>
    </button>
    
    <button id="resetGame" class="btn btn-danger btn-sm circle-btn" data-toggle="tooltip" title="Reset the game">
      <i class="fas fa-power-off"></i>
    </button>
    
  </div>
  
  <div class="control-panel">
    <div class="btn-group">
      <!-- Select Cartella Button with Icon -->
      <button id="selectCartella" class="btn custom-btn btn-secondary">
        <i class="fas fa-list fa-2x"></i> <!-- Cartella Icon -->
      </button>

      <!-- Start Game Button with Icon -->
      <button id="startGame" class="btn custom-btn btn-success">
        <i class="fas fa-play fa-2x"></i> <!-- Play Icon -->
      </button>

      <!-- Refund Game Button with Icon -->
      <button id="refundGame" class="btn custom-btn btn-danger d-none">
        <i class="fas fa-sync fa-2x"></i> <!-- Refund/Sync Icon -->
      </button>

      <!-- Pause Game Button with Icon -->
      <button id="pauseGame" class="btn custom-btn btn-primary">
        <i class="fas fa-pause fa-2x"></i> <!-- Pause Icon -->
      </button>

    </div>

  </div>
</div>

  <!-- <div class="ad-banner">
    <div></div>
  </div> -->
</div>


<script>
  const gameData = {
    balance: "{{ balance }}",
    cut_percentage: "{{ cut_percentage }}",
    username: "{{ username }}",
    has_unfinished_game: "{{ has_unfinished_game|yesno:'true,false' }}",
    unfinished_transaction_id: "{{ unfinished_transaction_id|default:'' }}",
    // unfinished_transaction_id: "{{ unfinished_transaction_id }}",
    resultNumbers: "{{ result }}",
  };


</script>


<style>
  /* Custom Button Style */
  .custom-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    /* Larger font size for readability */
    padding: 15px 30px;
    /* Bigger padding for a more modern look */
    border-radius: 50px;
    /* Rounded corners */
    transition: all 0.3s ease-in-out;
    /* Smooth transition effect */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    /* Soft shadow for depth */
  }

  .custom-btn i {
    margin-right: 10px;
    /* Space between icon and text */
  }

  /* Hover effects */
  .custom-btn:hover {
    transform: translateY(-5px);
    /* Lift the button on hover */
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    /* More prominent shadow on hover */
  }

  /* Focus effects (when button is clicked or focused) */
  .custom-btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.3);
    /* Focus outline for accessibility */
  }

  /* Button colors */
  .btn-primary.custom-btn {
    background-color: #007bff;
    border-color: #007bff;
  }

  .btn-success.custom-btn {
    background-color: #28a745;
    border-color: #28a745;
  }

  .btn-warning.custom-btn {
    background-color: #ffc107;
    border-color: #ffc107;
  }

  .btn-primary.custom-btn i,
  .btn-success.custom-btn i,
  .btn-warning.custom-btn i {
    color: white;
  }

  /* Button hover color changes */
  .btn-primary.custom-btn:hover {
    background-color: #0056b3;
    border-color: #004085;
  }

  .btn-success.custom-btn:hover {
    background-color: #218838;
    border-color: #1e7e34;
  }

  .btn-warning.custom-btn:hover {
    background-color: #e0a800;
    border-color: #d39e00;
  }


  /* text animation */

  /* Style for the ad banner */
  .ad-banner {
    width: 100%;
    /* Full width */
    background-color: #333;
    color: white;
    text-align: center;
    padding: 10px 0;
    overflow: hidden;
    /* Hide text outside the container */
    position: relative;
  }

  /* Style for the moving text */
  .ad-banner p {
    display: inline-block;
    white-space: nowrap;
    /* Prevent line breaks */
    animation: scroll-text 10s linear infinite;
    /* Animation with 10s duration */
    margin: 0;
    padding: 0;
    font-size: 1.5rem;
  }

  /* Define the scrolling animation */
  @keyframes scroll-text {
    0% {
      transform: translateX(100%);
      /* Start from the right side */
    }

    100% {
      transform: translateX(-100%);
      /* End at the left side */
    }
  }

  #shuffleCartella,
  #chimeAudio,
  #resetBingo i {
    font-size: 1.5rem;
    /* Adjust the icon size */
    vertical-align: middle;
    /* Align icons to the center */
  }

  /* Glow effect */
  .glow {
    box-shadow: 0 0 10px 5px rgba(255, 255, 0, 0.8);
    transition: box-shadow 0.5s ease;
  }

  /* Animation for shuffle effect */
  /* .shuffle-animate {
  animation: shuffle 0.5s ease-in-out infinite;
} */

  /* Keyframes for shuffle */
  @keyframes shuffle {
    0% {
      transform: translateY(0);
    }

    25% {
      transform: translateY(-10px);
    }

    50% {
      transform: translateY(10px);
    }

    75% {
      transform: translateY(-10px);
    }

    100% {
      transform: translateY(0);
    }
  }


@keyframes moveAndGlow {
    0% {
        transform: translate(0px, 0px);
        background-color: rgb(255, 255, 255); /* Starting background color */
    }
    50% {
        transform: translate(25px, 25px); /* Random movement */
        background-color: rgb(45, 137, 199); /* Random color */
    }
    100% {
        transform: translate(0px, 0px);
        background-color: rgb(255, 255, 255); /* Reset background color */
    }
}

/* Animation styles */
.number-box.shuffled-animated {
    animation: moveAndGlow 1s infinite ease-in-out;
    transition: background-color 1s ease-in-out;
}

/* Class for specific movement and background color */
.number-box.shuffled-animated-style {
    background-color: rgba(31, 206, 124, 0.377); /* Set your desired color */
    transform: translate(15px, 15px); /* Set your desired movement */
}

.control-panel {
  position: absolute;
  bottom: 0; /* Align the control panel with the bottom of the screen */
  left: 400px; /* Adjust this value to control the horizontal distance between the vertical and control panel buttons */
  margin-bottom: 20px;
}

/* Style for the vertical button container */
#button-container {
  width: 50px; /* Width of the vertical rectangle */
  height: 120px; /* Height of the vertical container */
  display: flex;
  flex-direction: column; /* Align buttons vertically */
  justify-content: space-between; /* Add spacing between buttons */
  background-color: #f0f0f0; /* Light background for the container */
  position: absolute;
  bottom: 0; /* Ensure it aligns with the bottom */
  left: 0; /* Adjust if you need to move it horizontally */
  margin-left: 10px; /* Adjust left margin */
}

/* Style for circular buttons inside the vertical container */
.circle-btn {
  width: 40px; /* Smaller button size */
  height: 40px;
  padding: 0;
  border-radius: 50%; /* Circular shape */
  font-size: 1.2rem; /* Adjust icon size for smaller buttons */
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 0.3s ease;
}

/* Button hover effects for better interactivity */
.circle-btn:hover {
  transform: scale(1.1); /* Slightly increase size on hover */
  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2); /* Add shadow on hover */
}


#shuffleCartella:hover {
  background-color: #0d59cc; /* Darker shade of yellow for hover */
}

#chimeAudio {
  background-color: #2ecc71; /* Green for chime toggle */
}

#chimeAudio:hover {
  background-color: #27ae60; /* Darker shade of green for hover */
}

#resetGame {
  background-color: #e74c3c; /* Red for reset action */
}

#resetGame:hover {
  background-color: #c0392b; /* Darker shade of red for hover */
}

/* Optional: Add animation effect to the button when active */
.circle-btn.active {
  transform: scale(1.2); /* Enlarge the button when active */
  box-shadow: 0 8px 12px rgba(0, 0, 0, 0.3); /* Increased shadow for active state */
}

</style>